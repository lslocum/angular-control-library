<div class="p-field" [class.required]="dateProperties.required">
  <label [for]="dateProperties.name">{{ dateProperties.label }}</label>
  <p-calendar
    [(ngModel)]="value"
    dateFormat="mm/dd/yy"
    [minDate]="dateProperties.minDate"
    [maxDate]="dateProperties.maxDate"
    [disabled]="disabled"
    [disabledDates]="dateProperties.invalidDates"
    [disabledDays]="dateProperties.disabledDays"
    [showIcon]="true"
    showButtonBar="true"
    (onBlur)="onTouchedCallback()"
    (onClearClick)="onChange()"
    (onInput)="onChange()"
    (onSelect)="onChange()"
  ></p-calendar>

  <div *ngIf="control.touched">
    <small *ngIf="control.hasError('required')" class="p-error">{{ dateProperties.label }} required.</small>
    <small *ngIf="control.hasError('min')" class="p-error">
      {{ dateProperties.label }} must be after {{ dateProperties.minDate }}.
    </small>
    <small *ngIf="control.hasError('max')" class="p-error">
      {{ dateProperties.label }} must be before {{ dateProperties.maxDate }}.
    </small>
  </div>
</div>
